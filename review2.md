# jQuery 10
## 修正内容（2次コードレビュー,リファクタリング ３つ）

1. `each()`で、本情報をそれぞれテンプレートに渡して、`append()`で要素を追加して繰り返しているが、`each()`内で繰り返したテンプレートをまとめて、`append()`で追加する。
   - `each()`の外でグローバル変数の`[]`（配列）で定義して、中で代入演算子を使用し繰り返し代入した後に`append()`１ページ分の本のリストを追加しました。

2. disabledクラスを追加した後、ボタンを無効化するのにclickイベント内でさらにclickイベントを使用している。
   - 「前へ」、「次へ」のclick関数内に、disabledクラスが加えられたときの条件分岐で`return false`を返して無効化させました。

3. 通信失敗、ボタン連打などを`if文`の条件分岐で表現してるが、`Switch`文で表現する。
   - `Switch`文を使用して、一つの条件式を元にしてわかりやすくできた。
   
   ```javascript
   switch (error.status) {
              case 0:
                $(".message").append(
                  "<p>通信に失敗しました。インターネットの接続状態を確認してください。</p>"
                );
                break;
              case 400:
                $(".message").append("<p>検索文字が入力されていません。</p>");
                break;
              case 429:
                $(".message").append(
                  "<p>リクエスト過多です。しばらく時間を置いてからお試しください。</p>"
                );
                break;
            }
   ```